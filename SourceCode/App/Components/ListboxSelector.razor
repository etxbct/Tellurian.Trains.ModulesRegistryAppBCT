@inject IStringLocalizer<App> Localizer

@if (Items is not null)
{
    <div class="input-group col-md-3">
        <select class="form-control " id="countryid" @bind="@Id" @onselect="OnSelectedItem">
            <option value="0">Select</option>
            @foreach (var item in Items)
            {
                @if (IsSelected)
                {
                    <option selected value="@item.Id">@item.Description</option>
                }
                else
                {
                    <option value="@item.Id">@item.Description</option>
                }
            }
        </select>
        <button disabled="@(Id == 0)" class="btn btn-primary" @onclick="OnSelectedItem">@Localizer["Ok"]</button>
    </div>
}


@code {
    [Parameter] public EventCallback<int> OnSelected { get; set; }
    [Parameter] public IEnumerable<ListboxItem>? Items { get; set; }
    private int Id;

    private async Task OnSelectedItem()
    {
        await OnSelected.InvokeAsync(Id);
    }

    private bool IsSelected => Items is not null && Items.Count() == 1;
}
